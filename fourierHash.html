<!DOCTYPE html>
<html lang="en-US">
 
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Fourier</title>
</head>
 
<body>
	<h2 id="bonj"> Bonjour </h2>
	<!--<img id="visualHash" style = "width: 250px; height: auto; "> </img> -->
	<canvas id="hash-canvas" width="256" height="256" style="display: block;"></canvas>
</body>
 
 <script src="codewords.js"> </script>
<script src="fft.js"> </script>
 <script src="visualhash.js">
 </script>

 <script>
 window.onload = function (e){
	//const outArr = JSON.parse(out).map(row => row.map(c => '#' + (c & 0xFFFFFF).toString(16) + "ff"))
	const hash = "1d8b5d17f5e73d3e561257bdea757fff" //"2cb4b1431b84ec15d35ed83bb927e27e"// "75b9bce343839d7faa6c3e0c9152fa0c"
	const millisStart = Date.now()
	const pixels = getVisualHashPixels(hash, 256, 3);
	var canvas = document.getElementById('hash-canvas');
	const intermediateTime = Date.now()
	pixint = pixels.map(row => row.map(s => parseInt(s.substr(1, 6), 16)))
	if (canvas.getContext) {
		var ctx = canvas.getContext('2d');
		for(let i = 0; i < 256; i++){
			for(let j = 0; j < 256; j++){
				ctx.fillStyle = pixels[i][j];
				ctx.fillRect(i, j, 1, 1);
			}
		}
	}
	console.log("Time elapsed total: " + (Date.now() - millisStart)/1000)
		
	document.getElementById("bonj").innerHTML = modHash(hash, 23)
}
</script>
</html>
